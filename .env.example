# =============================================================================
# SCHAUTRACK ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and configure as needed.
# Variables can also be set via /admin settings page (DB values override defaults,
# but env vars always take precedence).

# =============================================================================
# REQUIRED
# =============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://schautrack:schautrack@localhost:5432/schautrack

# Session encryption key (change this in production!)
SESSION_SECRET=please-change-me

# Contact email shown on support/error pages
SUPPORT_EMAIL=support@example.com

# =============================================================================
# SERVER
# =============================================================================

# Port to listen on
PORT=3000

# Set to 'true' when serving over HTTPS (production)
# Set to 'false' for local development without HTTPS
COOKIE_SECURE=false

# =============================================================================
# POSTGRES (docker-compose)
# =============================================================================
# These are used by the Postgres container in docker-compose.yml

POSTGRES_DB=schautrack
POSTGRES_USER=schautrack
POSTGRES_PASSWORD=schautrack

# =============================================================================
# ADMIN
# =============================================================================

# Email address that gets admin access to /admin page
# Leave empty to disable admin access
ADMIN_EMAIL=

# =============================================================================
# LEGAL PAGES (optional)
# =============================================================================
# Enable imprint, privacy policy, and terms pages

# Set to 'true' to enable legal pages (/imprint, /privacy, /terms)
ENABLE_LEGAL=false

# Operator name shown on imprint page
IMPRINT_NAME=Operator

# URL for imprint link (default: /imprint)
IMPRINT_URL=/imprint

# Physical address (use \n for line breaks, rendered as SVG image for spam protection)
IMPRINT_ADDRESS=

# Contact email (rendered as SVG image for spam protection)
IMPRINT_EMAIL=

# =============================================================================
# SMTP (optional)
# =============================================================================
# Required for password reset emails

SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@example.com
SMTP_SECURE=false

# =============================================================================
# AI FEATURES (optional)
# =============================================================================
# Photo-based calorie estimation using OpenAI or Claude vision APIs

# Encryption key for storing user API keys (AES-256-GCM)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Required if users will store their own API keys
API_KEY_ENCRYPTION_SECRET=

# Global API keys (optional)
# Used as fallback when users don't have their own keys configured
# Can also be set via /admin settings page
OPENAI_API_KEY=
CLAUDE_API_KEY=

# Daily limit for AI requests per user (optional)
# 0 or empty = unlimited
AI_DAILY_LIMIT=50

# =============================================================================
# BUILD (set by CI)
# =============================================================================

# Version string shown in footer (e.g., v1.2.3)
# Usually set during Docker build or by CI pipeline
# BUILD_VERSION=
