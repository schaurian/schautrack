# =============================================================================
# SCHAUTRACK ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and configure as needed.
# Variables can also be set via /admin settings page (DB values override defaults,
# but env vars always take precedence).

# =============================================================================
# REQUIRED
# =============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://schautrack:schautrack@db:5432/schautrack

# Random secret for session encryption
SESSION_SECRET=please-change-me

# =============================================================================
# GENERAL
# =============================================================================

# Port to listen on
PORT=3000

# Email that gets access to /admin page
ADMIN_EMAIL=

# Contact email shown on support/error pages
SUPPORT_EMAIL=

# =============================================================================
# AI FEATURES
# =============================================================================
# Photo-based calorie estimation with support for OpenAI, Claude, and Ollama.

# Random 32-byte hex string for encrypting API keys
AI_KEY_ENCRYPTION_SECRET=

# AI provider to use: openai, claude, or ollama. Required to enable AI features.
AI_PROVIDER=

# Global API key (fallback when users don't have their own)
AI_KEY=

# Custom endpoint override (e.g., http://your-ollama-host:11434/v1). Leave blank to use provider defaults.
AI_ENDPOINT=

# Specify AI model to use (e.g., gpt-4o-mini, claude-sonnet-4-20250514, gemma3:12b). Required for OpenAI and Claude.
AI_MODEL=

# Daily limit for AI requests per user when using global key (0 or empty = unlimited)
AI_DAILY_LIMIT=50

# Note: Ollama models must be downloaded before use. The docker-compose setup
# automatically pulls the model specified in AI_MODEL. Models specified only
# in API requests will fail if not pre-downloaded.

# =============================================================================
# SMTP (Password Reset)
# =============================================================================

SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@example.com
SMTP_SECURE=false

# =============================================================================
# LEGAL PAGES
# =============================================================================

# Set to 'true' to enable /imprint, /privacy, /terms
ENABLE_LEGAL=false

# URL for imprint link
IMPRINT_URL=/imprint

# Full name and address (use \n for line breaks)
# Example: IMPRINT_ADDRESS=John Doe\n123 Main St\n12345 City\nCountry
IMPRINT_ADDRESS=

# Contact email (rendered as SVG for spam protection)
IMPRINT_EMAIL=

# =============================================================================
# POSTGRES (docker-compose)
# =============================================================================
# These are used by the Postgres container in docker-compose.yml

POSTGRES_DB=schautrack
POSTGRES_USER=schautrack
POSTGRES_PASSWORD=schautrack

# =============================================================================
# BUILD / DEPLOYMENT
# =============================================================================

# Version string shown in footer (e.g., v1.2.3)
# Usually set during Docker build or by CI pipeline
# BUILD_VERSION=

# Set to 'true' to allow search engine indexing (default: noindex for self-hosters)
# ROBOTS_INDEX=true
