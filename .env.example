# =============================================================================
# SCHAUTRACK ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and configure as needed.
# Variables can also be set via /admin settings page (DB values override defaults,
# but env vars always take precedence).

# =============================================================================
# REQUIRED
# =============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://schautrack:schautrack@localhost:5432/schautrack

# Session encryption key (change this in production!)
SESSION_SECRET=please-change-me

# Contact email shown on support/error pages (optional)
SUPPORT_EMAIL=

# =============================================================================
# SERVER
# =============================================================================

# Port to listen on
PORT=3000

# =============================================================================
# POSTGRES (docker-compose)
# =============================================================================
# These are used by the Postgres container in docker-compose.yml

POSTGRES_DB=schautrack
POSTGRES_USER=schautrack
POSTGRES_PASSWORD=schautrack

# =============================================================================
# ADMIN
# =============================================================================

# Email address that gets admin access to /admin page
# Leave empty to disable admin access
ADMIN_EMAIL=

# =============================================================================
# LEGAL PAGES (optional)
# =============================================================================
# Enable imprint, privacy policy, and terms pages

# Set to 'true' to enable legal pages (/imprint, /privacy, /terms)
ENABLE_LEGAL=false

# Operator name shown on imprint page
IMPRINT_NAME=Operator

# URL for imprint link (default: /imprint)
IMPRINT_URL=/imprint

# Physical address (use \n for line breaks, rendered as SVG image for spam protection)
IMPRINT_ADDRESS=

# Contact email (rendered as SVG image for spam protection)
IMPRINT_EMAIL=

# =============================================================================
# SMTP (optional)
# =============================================================================
# Required for password reset emails

SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@example.com
SMTP_SECURE=false

# =============================================================================
# AI FEATURES (optional)
# =============================================================================
# Photo-based calorie estimation using OpenAI, Claude, or Ollama vision APIs

# Random 32-byte hex string for encrypting API keys
AI_KEY_ENCRYPTION_SECRET=

# Default AI provider (openai, claude, or ollama)
# Required: Must be set to enable AI features
AI_PROVIDER=

# Global fallback API key (optional)
# Used when users don't have their own keys configured
# Can also be set via /admin settings page
AI_KEY=

# Custom endpoint override (optional)
# Examples:
#   - Ollama (local): http://localhost:11434/v1
#   - Ollama (Docker): http://ollama:11434/v1
#   - Custom proxy: https://your-proxy.com/v1
# Leave blank to use provider defaults:
#   - OpenAI: https://api.openai.com/v1
#   - Claude: https://api.anthropic.com/v1
#   - Ollama: http://localhost:11434/v1
AI_ENDPOINT=

# Daily limit for AI requests per user (optional)
# Applies when using global AI_KEY
# 0 or empty = unlimited
AI_DAILY_LIMIT=50

# Specify AI model to use (required for OpenAI and Claude, optional for Ollama)
# Examples:
#   - OpenAI: gpt-4o, gpt-4o-mini, gpt-4-turbo
#   - Claude: claude-sonnet-4-20250514, claude-opus-4-20250514
#   - Ollama: llama3.2-vision:11b, gemma3:12b, llava:7b
# Note: Ollama models must be pre-downloaded. Docker-compose auto-pulls this model.
AI_MODEL=

# =============================================================================
# BUILD (set by CI)
# =============================================================================

# Version string shown in footer (e.g., v1.2.3)
# Usually set during Docker build or by CI pipeline
# BUILD_VERSION=
